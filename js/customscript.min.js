theme=window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark";function themeChange(){theme="dark"==theme?"light":"dark","dark"==theme?($("body").removeClass("text-bg-light"),$("body").addClass("text-bg-dark"),$("a").css("color","#fff"),$(".modal-content").removeClass("text-bg-light"),$(".modal-content").addClass("text-bg-dark"),$(".btn-close").addClass("btn-close-white"),$("#modetext").html("&#xe60f;")):($("body").removeClass("text-bg-dark"),$("body").addClass("text-bg-light"),$(".modal-content").removeClass("text-bg-dark"),$(".modal-content").addClass("text-bg-light"),$("a").css("color","#000"),$(".btn-close").removeClass("btn-close-white"),$("#modetext").html("&#xe6c0;"))}themeChange(),$("a").hover(function(){$(this).css("color","#F0C9CF")},function(){"dark"==theme?$(this).css("color","#fff"):$(this).css("color","#000")});const alertPlaceholder=document.getElementById("liveAlertPlaceholder"),appendAlert=(a,b)=>{const c=document.createElement("div");c.innerHTML=[`<div class="alert alert-${b} alert-dismissible" role="alert">`,`   <div>${a}</div>`,"   <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>","</div>"].join(""),alertPlaceholder.innerHTML="",alertPlaceholder.append(c)};function createWebSocket(){if(!window.WebSocket)return void appendAlert("WebSocket is not supported","danger");var a=document.getElementById("protocol").value,b=document.getElementById("host").value,c=document.getElementById("port").value;return""==b||""==c?void appendAlert("Please enter the host and port","danger"):void(appendAlert("Connecting to "+a+"://"+b+":"+c,"info"),connect(a,b,c))}function writeMessage(a){var b=document.getElementById("received"),c=document.createElement("BR"),d=document.createTextNode(a);b.appendChild(c),b.appendChild(d)}function connect(a,b,c){if(!window.WebSocket)return void appendAlert("WebSocket is not supported","danger");"https:"==window.location.protocol&&"ws"==a&&appendAlert("Loading the page over HTTPS, only secure WebSocket (wss) is supported","danger");var d=new WebSocket(a+"://"+b+":"+c);d.onopen=function(){console.log("Connected to server"),appendAlert("Connected to server","success"),setTimeout(()=>{alertPlaceholder.innerHTML="",$("#configModal").modal("hide")},1500)},d.onmessage=function(a){console.log("Message from server:",a.data),writeMessage(a.data)},d.onclose=function(){console.log("Disconnected from server"),$("#configModal").hasClass("show")||writeMessage("Disconnected from server")},d.onerror=function(a){console.error("WebSocket error observed:",a),$("#configModal").hasClass("show")?appendAlert("Cannot connect to server","danger"):writeMessage("WebSocket error observed")}}